<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ù…Ù†ØµØ© Ø§Ù„ØªØ¬Ø§Ø±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .login-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 500px;
        }
        .logo {
            text-align: center;
            margin-bottom: 30px;
        }
        .logo h1 {
            color: #2c3e50;
            font-size: 28px;
        }
        .form-group {
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
        }
        input, select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #27ae60;
            box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.1);
        }
        .btn {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 10px 0;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }
        .btn-secondary {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }
        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #e9ecef;
        }
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        .tab.active {
            border-bottom: 3px solid #27ae60;
            color: #27ae60;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .error-message {
            background: #fee;
            color: #c33;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border: 1px solid #fcc;
            display: none;
        }
    </style>
</head>
<body>
    <div class="login-container">
        <div class="logo">
            <h1>ğŸª Ù…Ù†ØµØ© Ø§Ù„ØªØ¬Ø§Ø±</h1>
            <p>Ù†Ø¸Ø§Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
            <div class="tab" onclick="switchTab('register')">Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
        </div>

        <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <div class="tab-content active" id="login-tab">
            <div class="error-message" id="loginError"></div>
            
            <div class="form-group">
                <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                <input type="email" id="loginEmail" placeholder="example@email.com" required>
            </div>

            <div class="form-group">
                <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
            </div>

            <button class="btn" onclick="login()">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        </div>

        <!-- Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
        <div class="tab-content" id="register-tab">
            <div class="error-message" id="registerError"></div>
            
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±</label>
                <input type="text" id="registerStoreName" placeholder="Ù…Ø«Ø§Ù„: Ù…ØµÙ†Ø¹ Ø¯ÙˆÙØ§ Ù„Ù„Ù…Ù„Ø§Ø¨Ø³" required>
            </div>

            <div class="form-group">
                <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                <input type="email" id="registerEmail" placeholder="example@email.com" required>
            </div>

            <div class="form-group">
                <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <input type="password" id="registerPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" required minlength="6">
            </div>

            <div class="form-group">
                <label>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <input type="password" id="registerConfirmPassword" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
            </div>

            <div class="form-group">
                <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                <input type="tel" id="registerPhone" placeholder="Ù…Ø«Ø§Ù„: 01091104466" required pattern="[0-9]{11}">
            </div>

            <div class="form-group">
                <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                <select id="registerCity" required>
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                </select>
            </div>

            <div class="form-group">
                <label>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</label>
                <select id="registerArea" required disabled>
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø£ÙˆÙ„Ø§Ù‹</option>
                </select>
            </div>

            <div class="form-group">
                <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                <input type="text" id="registerAddress" placeholder="Ù…Ø«Ø§Ù„: 4 Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…ÙˆØµÙ„ÙŠ - Ø§Ù…Ø§Ù… Ù…Ø¯Ø±Ø³Ø© Ø®Ù„ÙŠÙ„ Ø§ØºØ§" required>
            </div>

            <button class="btn btn-secondary" onclick="register()">ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ù† ÙˆØ§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
        const citiesData = {
            "Cairo": ["Abdin", "El Abaseya", "Al Azbakeya", "El Katameya", "Al Manial", "El Mokattam", "Dar El Salam", "El Basatin", "El-Gamaleya", "Al Sayeda Zeinab", "Helwan", "Maadi", "Masr El Qadima", "Qasr El Nil", "El Khalifa", "Torah", "Zamalek", "El Shorouk", "Badr City", "Ain Shams", "Madinaty", "Al Zaitoun", "Nasr City", "New Cairo", "Heliopolis", "Al Amiriyyah", "El Salam", "El Waily", "Al Sharabeya", "Al Marj", "Al Matariyyah", "El Nozha", "Hadaeq Al Qubbah", "Shobra", "Nile Corniche", "Cairo"],
            "Giza": ["6th of October City", "El Sheikh Zayed City", "Al Ayyat", "Al Hawamidiyya", "Badrshein", "El Saf", "Al Omraneya", "Atfih", "Bahariya Oasis", "Pyramids Gardens", "Faisal", "Haram", "Abu an Numros", "Al Agouzah", "Al Warak", "AwsÄ«m", "Boulaq Ad Dakrour", "Al Doqi", "Ard El Lewa", "Mohandessin", "Kirdasah", "Imbabah", "Monshaet El Kanater", "Giza"],
            "Alexandria": ["Ad Dakhilah", "Amreya", "Borg El Arab", "Moharam Bek", "Bab Sharqi", "Sidi Gabir", "Al Attarin", "Mansheya", "Al Labban", "El Gomrok", "Port al Basal", "Karmus", "Montaza 2", "Alexandria"],
            "Luxor": ["Luxor", "Armant", "Esna", "Al Qarnah"],
            "Aswan": ["Aswan", "Kom Ombo", "Daraw", "Edfu"],
            "Red Sea": ["Hurghada", "Ras Ghareb", "Safaga", "Quseer", "Marsa Alam"],
            "Assiut": ["Abnub", "Abu Tig", "Al Badari", "El Ghanayem", "El Fateh", "El Quseyya", "Dayrout", "Sahel Selim", "Sidfa", "Asyut", "Manfalut", "Manqabad"],
            "Sohag": ["Tima", "Tahta", "Juhaynah", "El Maragha", "Sohag", "Akhmim", "Saqultah", "Al Minshah", "Girga", "Al Balyana", "Dar El Salam", "El Usayrat"],
            "Qena": ["Qena", "Qus", "Madinet Qaft", "Dishna", "Naqadah", "Nagaa Hammadi", "Farshut", "Abu Tesht"],
            "Minya": ["El Idwa", "Maghagha", "Bani Mazar", "Matai", "Samalut", "Minya", "Abu Qurqas", "Mallawi", "Dayr Mawas"],
            "Beni Suef": ["Al Wasta", "Nasser", "Beni Suef", "Ihnasya Al Madinah", "Biba", "Sumusta El Waqf", "El Fashn"],
            "Fayoum": ["Tamiya", "Sinnuris", "Faiyum", "Atsa", "Ibsheway", "Youssef Al Seddik"],
            "Beheira": ["Damanhour", "Kafr El Dawar", "Abu Hummus", "El Mahmoudeya", "Natrn Valley", "Al Noubareya", "Abu Al Matamir", "Housh Eissa", "Itay Al Barud", "Shubrakhit", "Rosetta", "Idku", "Badr", "Ad Dilinjat", "AR Rahmaniyyah", "Kom Hamada"],
            "Kafr El Sheikh": ["Kafr El Shaikh", "Desouk", "Fowa", "Mutubas", "Baltim", "El Hamool", "Riyadh", "Biyala", "Qillin", "Sidi Salem"],
            "Gharbia": ["Kafr Az Zayyat", "El Mahalla El Kubra", "Samannoud", "Basyoun", "El Santa", "Zefta", "Kotoor", "Tanta"],
            "Dakahlia": ["Mansoura", "Aga", "Al Manzalah", "Belqas", "Dikirnis", "El Senbellawein", "Menyet El Nasr", "Mit Ghamr", "Shirbin", "Talkha"],
            "Sharqia": ["Bilbeis", "Inshas", "Awlad Saqr", "El Husseiniya", "Dyarb Negm", "Faqus", "Kafr Saqr", "Mashtul as Suq", "Minya Al Qamh", "El Salheya El Qadima", "El Salheya El Gadida", "Tanis", "10th of Ramadan City", "Zagazig"],
            "Qalyubia": ["Banha", "Al Khankah", "Al Obour City", "Al Qanatir Al Khayriyyah", "Shibin El Qanater", "Toukh", "Kafr Shukr", "Qalyub", "Shubra Al Khaymah"],
            "Menoufia": ["Quwaysna", "Birkat as SAB", "El Sadat City", "El Shohada", "Tala", "Shebeen El Kom", "El Bagour", "Menouf", "Ashmoun"],
            "Damietta": ["Faraskur", "Damietta", "New Damietta", "Kafr Saad", "El Zarqa", "Kafr Al Battikh", "Ras El Bar", "Izbat Al Burj"],
            "Port Said": ["Port Said"],
            "Matrouh": ["Marsa Matruh", "North Coast"],
            "New Valley": ["Kharga", "Dakhla", "Farafra"],
            "Ismailia": ["Ismailia"],
            "Suez": ["Suez"],
            "South Sinai": ["South Sinai Governorate", "Sharm El Sheikh", "Dahab"],
            "North Sinai": ["North Sinai"]
        };

        // ØªØ­ÙˆÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø¯Ù† Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©
        function getArabicCityName(englishName) {
            const cityMap = {
                'Cairo': 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',
                'Giza': 'Ø§Ù„Ø¬ÙŠØ²Ø©', 
                'Alexandria': 'Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©',
                'Luxor': 'Ø§Ù„Ø£Ù‚ØµØ±',
                'Aswan': 'Ø£Ø³ÙˆØ§Ù†',
                'Red Sea': 'Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±',
                'Assiut': 'Ø£Ø³ÙŠÙˆØ·',
                'Sohag': 'Ø³ÙˆÙ‡Ø§Ø¬',
                'Qena': 'Ù‚Ù†Ø§',
                'Minya': 'Ø§Ù„Ù…Ù†ÙŠØ§',
                'Beni Suef': 'Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ',
                'Fayoum': 'Ø§Ù„ÙÙŠÙˆÙ…',
                'Beheira': 'Ø§Ù„Ø¨Ø­ÙŠØ±Ø©',
                'Kafr El Sheikh': 'ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®',
                'Gharbia': 'Ø§Ù„ØºØ±Ø¨ÙŠØ©',
                'Dakahlia': 'Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©',
                'Sharqia': 'Ø§Ù„Ø´Ø±Ù‚ÙŠØ©',
                'Qalyubia': 'Ø§Ù„Ù‚Ù„ÙŠÙˆØ¨ÙŠØ©',
                'Menoufia': 'Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©',
                'Damietta': 'Ø¯Ù…ÙŠØ§Ø·',
                'Port Said': 'Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯',
                'Matrouh': 'Ù…Ø·Ø±ÙˆØ­',
                'New Valley': 'Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯',
                'Ismailia': 'Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©',
                'Suez': 'Ø§Ù„Ø³ÙˆÙŠØ³',
                'South Sinai': 'Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡',
                'North Sinai': 'Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡'
            };
            
            return cityMap[englishName] || englishName;
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¯Ù† ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        function loadCities() {
            const citySelect = document.getElementById('registerCity');
            citySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>';
            
            Object.keys(citiesData).forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = getArabicCityName(city);
                citySelect.appendChild(option);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©
        function setupCityAreaListener() {
            const citySelect = document.getElementById('registerCity');
            const areaSelect = document.getElementById('registerArea');
            
            citySelect.addEventListener('change', function() {
                const selectedCity = this.value;
                areaSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</option>';
                areaSelect.disabled = !selectedCity;

                if (selectedCity && citiesData[selectedCity]) {
                    citiesData[selectedCity].forEach(area => {
                        const option = document.createElement('option');
                        option.value = area;
                        option.textContent = area;
                        areaSelect.appendChild(option);
                    });
                }
            });
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.style.display = 'block';
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 5000);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù‡Ø§ØªÙ
        function isValidPhone(phone) {
            return /^01[0-2|5]{1}[0-9]{8}$/.test(phone);
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
        function register() {
            const storeName = document.getElementById('registerStoreName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            const phone = document.getElementById('registerPhone').value.trim();
            const city = document.getElementById('registerCity').value;
            const area = document.getElementById('registerArea').value;
            const address = document.getElementById('registerAddress').value.trim();

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (!storeName || !email || !password || !confirmPassword || !phone || !city || !area || !address) {
                showError('registerError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            if (!isValidEmail(email)) {
                showError('registerError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­');
                return;
            }

            if (password.length < 6) {
                showError('registerError', 'âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }

            if (password !== confirmPassword) {
                showError('registerError', 'âš ï¸ ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†');
                return;
            }

            if (!isValidPhone(phone)) {
                showError('registerError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­ (11 Ø±Ù‚Ù…)');
                return;
            }

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†
            const merchants = JSON.parse(localStorage.getItem('merchants')) || [];

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹
            if (merchants.find(m => m.email === email)) {
                showError('registerError', 'âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹');
                return;
            }

            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ§Ø¬Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
            const merchant = {
                id: Date.now().toString(),
                storeName: storeName,
                email: email,
                password: password,
                phone: phone,
                city: city,
                area: area,
                address: address,
                registrationDate: new Date().toISOString(),
                isActive: true
            };

            // Ø­ÙØ¸ Ø§Ù„ØªØ§Ø¬Ø±
            merchants.push(merchant);
            localStorage.setItem('merchants', JSON.stringify(merchants));

            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            localStorage.setItem('currentMerchant', JSON.stringify(merchant));
            
            alert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!');
            window.location.href = 'merchant-dashboard.html';
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                showError('loginError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                return;
            }

            const merchants = JSON.parse(localStorage.getItem('merchants')) || [];
            const merchant = merchants.find(m => m.email === email && m.password === password);

            if (!merchant) {
                showError('loginError', 'âš ï¸ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
                return;
            }

            if (!merchant.isActive) {
                showError('loginError', 'âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ÙØ¹Ù„');
                return;
            }

            // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©
            localStorage.setItem('currentMerchant', JSON.stringify(merchant));
            
            alert(`ğŸ‰ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ ${merchant.storeName}`);
            window.location.href = 'merchant-dashboard.html';
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', function() {
            const currentMerchant = JSON.parse(localStorage.getItem('currentMerchant'));
            if (currentMerchant) {
                window.location.href = 'merchant-dashboard.html';
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ù†
            loadCities();
            setupCityAreaListener();
        });
    </script>
</body>
</html>
